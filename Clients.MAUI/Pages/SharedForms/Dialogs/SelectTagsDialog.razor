@using SharedLibrary.ApiMessages.Projects.Dto
<MudDialog Class="pa-4 align-center jusify-center">
    <DialogContent>
        <MudTextField T="string"
                      Variant="Variant.Outlined"
                      Margin="Margin.Dense"
                      TextChanged="FindTagByName"
                      Adornment="Adornment.End"
                      AdornmentIcon="@Icons.Filled.Search"
                      AdornmentColor="Color.Default" />

        <MudContainer Style="height: 50vh" Class="mt-2 py-2 overflow-y-scroll">
            @if (!_isLoaded)
            {
                <MudProgressCircular olor="Color.Default" Indeterminate="true" />
            }
            else
            {
                <MudGrid>
                    @foreach (var selectPair in _allTags)
                    {
                        <MudItem xs="12">
                            <MudPaper Elevation="2" Width="100%" Class="pa-1 d-flex align-center justify-start gap-3">
                                <MudCheckBox Dense="true" Checked=@selectPair.Selected CheckedChanged="@((bool selected) => selectPair.Selected = selected)" />
                                <MudText Typo="Typo.body1">@selectPair.Tag.Value</MudText>
                            </MudPaper>
                        </MudItem>
                    }
                </MudGrid>
            }
        </MudContainer>
    </DialogContent>
    <DialogActions>
        <MudButton OnClick="Submit">Сохранить</MudButton>
    </DialogActions>
</MudDialog>

